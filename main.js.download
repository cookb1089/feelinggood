"use strict";(self.webpackChunkglobal_cmp_consent_tool=self.webpackChunkglobal_cmp_consent_tool||[]).push([[179],{4241:(b,P,s)=>{s.d(P,{z:()=>p});var r=s(8966),i=s(4893),v=s(5240),g=s(7423);let p=(()=>{class l{constructor(u,c){this.dialogRef=u,this.translations=c}onNoClick(){this.dialogRef.close()}onYesClick(){this.dialogRef.close(!0)}}return l.\u0275fac=function(u){return new(u||l)(i.Y36(r.so),i.Y36(r.WI))},l.\u0275cmp=i.Xpm({type:l,selectors:[["ng-component"]],decls:13,vars:4,consts:[[1,"confirmation-dialog"],["mat-dialog-title","",1,"confirmationDialogTitle"],["mat-dialog-content","",1,"confirmationDialogBody"],["mat-dialog-actions","",1,"buttons"],["mat-stroked-button","",1,"cancelButton",3,"click"],["mat-raised-button","",1,"okButton",3,"click"]],template:function(u,c){1&u&&(i.TgZ(0,"app-theme"),i.TgZ(1,"div",0),i.TgZ(2,"div"),i.TgZ(3,"h2",1),i._uU(4),i.qZA(),i.TgZ(5,"div",2),i.TgZ(6,"p"),i._uU(7),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",3),i.TgZ(9,"button",4),i.NdJ("click",function(){return c.onNoClick()}),i._uU(10),i.qZA(),i.TgZ(11,"button",5),i.NdJ("click",function(){return c.onYesClick()}),i._uU(12),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&u&&(i.xp6(4),i.Oqu(c.translations.dialogTitle),i.xp6(3),i.Oqu(c.translations.dialogBody),i.xp6(3),i.Oqu(c.translations.cancelButton),i.xp6(2),i.Oqu(c.translations.okButton))},directives:[v.M,r.uh,r.xY,r.H8,g.lW],styles:[".confirmation-dialog[_ngcontent-%COMP%]   .confirmationDialogTitle[_ngcontent-%COMP%]{text-align:center;margin:0}.confirmation-dialog[_ngcontent-%COMP%]   .confirmationDialogBody[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:9px;letter-spacing:.38px}.confirmation-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0;margin:0}.confirmation-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:normal;padding:5px 15px;border-style:solid;border-radius:2px;height:29px;width:97px;box-shadow:0 2px 4px #0000004d;opacity:1;font-size:12px}@media only screen and (max-width: 340px){.confirmation-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{flex-direction:column-reverse}.confirmation-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.confirmation-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin:10px 0}}"]}),l})()},5240:(b,P,s)=>{s.d(P,{M:()=>l});var r=s(4893),i=s(9329),v=s(9808);const g=function(h,u){return[h,u]},p=["*"];let l=(()=>{class h{constructor(c){this.resourceService=c,this.theme="defaultTheme",this.font="openSans",this.resourceService.getTheme().subscribe(m=>{m&&(this.theme=m)})}}return h.\u0275fac=function(c){return new(c||h)(r.Y36(i.z))},h.\u0275cmp=r.Xpm({type:h,selectors:[["app-theme"]],ngContentSelectors:p,decls:2,vars:4,consts:[[3,"ngClass"]],template:function(c,m){1&c&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA()),2&c&&r.Q6J("ngClass",r.WLB(1,g,m.font,m.theme))},directives:[v.mk],encapsulation:2}),h})()},6484:(b,P,s)=>{s.d(P,{D:()=>r});var r=(()=>{return(i=r||(r={})).TCF="tcf",i.GLOBAL="global",r;var i})()},8374:(b,P,s)=>{s.d(P,{_:()=>r});var r=(()=>{return(i=r||(r={})).FONT="font",i.THEME="theme",r;var i})()},7030:(b,P,s)=>{s.d(P,{h:()=>g});const r={manager:"manager",purposes:"purposes",vendors:"vendors",privacyInformation:"privacy-information",purposeDetails:"purpose-details",specialPurposeDetails:"special-purpose-details",featureDetails:"feature-details",specialFeatureDetails:"special-feature-details",vendorDetails:"vendor-details",notice:"notice"},g={ROUTES:r,FULL_ROUTES:{manager:`/${r.manager}`,purposes:`/${r.manager}/${r.purposes}`,vendors:`/${r.manager}/${r.vendors}`,privacyInformation:`/${r.manager}/${r.privacyInformation}`,notice:`/${r.notice}`},ROUTES_REGEX:{purposeDetails:new RegExp(`/${r.manager}/${r.purposeDetails}/`),specialPurposeDetails:new RegExp(`/${r.manager}/${r.specialPurposeDetails}/`),featureDetails:new RegExp(`/${r.manager}/${r.featureDetails}/`),specialFeatureDetails:new RegExp(`/${r.manager}/${r.specialFeatureDetails}/`),vendorDetails:new RegExp(`/${r.manager}/${r.vendorDetails}/`),vendors:new RegExp(`/${r.manager}/${r.vendors}`),purposes:new RegExp(`/${r.manager}/${r.purposes}`),privacyInformation:new RegExp(`/${r.manager}/${r.privacyInformation}`)}}},106:(b,P,s)=>{s.d(P,{$:()=>r});var r=(()=>{return(i=r||(r={})).Accepted="stackStatusAccept",i.Partial="stackStatusPartial",i.Rejected="stackStatusReject",r;var i})()},5395:(b,P,s)=>{s.d(P,{U:()=>v});var r=s(4893),i=s(7379);let v=(()=>{class g{constructor(l){this.vendorListService=l}transform(l,h){if(l.vendors){if(l.isPurpose){if(l.rightToObject)return this.vendorListService.vendorList.purposes[l.id][h];if(this.vendorListService.vendorList.specialPurposes)return this.vendorListService.vendorList.specialPurposes[l.id][h];if(this.vendorListService.vendorList.purposes)return this.vendorListService.vendorList.purposes[l.id][h]}else if(l.rightToObject){if(this.vendorListService.vendorList.specialFeatures)return this.vendorListService.vendorList.specialFeatures[l.id][h]}else if(this.vendorListService.vendorList.features)return this.vendorListService.vendorList.features[l.id][h]}else{if(!Object.prototype.hasOwnProperty.call(l,"expanded"))return this.vendorListService.vendorList.vendors[l.id][h];if(this.vendorListService.vendorList.stacks&&this.vendorListService.vendorList.stacks[l.id])return this.vendorListService.vendorList.stacks[l.id][h]}return l[h]}}return g.\u0275fac=function(l){return new(l||g)(r.Y36(i.f,16))},g.\u0275pipe=r.Yjl({name:"extractValueFromVendorList",type:g,pure:!1}),g})()},6856:(b,P,s)=>{s.d(P,{q:()=>u});var r=s(4241),i=s(6484);const v={text:"mat-button",outlined:"mat-stroked-button",raised:"mat-raised-button",unelevated:"mat-flat-button",semiTransparent:"mat-stroked-button"};var g=s(4893),p=s(1712),l=s(1482),h=s(8966);let u=(()=>{class c{constructor(e,t,n){this.translationService=e,this.cmpCommunicationService=t,this.dialog=n,this.BUTTON_TYPES=v}acceptAllAction(e,t,n,a){const o="acceptAllButtonClick";e&&!a?this.showModal({dialogTitle:this.translationService.translations.acceptAll,dialogBody:this.translationService.translations.acceptAllDescription,cancelButton:this.translationService.translations.cancel,okButton:this.translationService.translations.accept},o,t,n):this.cmpCommunicationService.sendMessage(o)}denyAllAction(e,t,n,a){const o=this.cmpCommunicationService.getActiveCmpType()===i.D.TCF?"denyAllButtonClick":"rejectAllButtonClick";e&&!a?this.showModal({dialogTitle:this.translationService.translations.denyAll,dialogBody:this.translationService.translations.denyAllDescription,cancelButton:this.translationService.translations.cancel,okButton:this.translationService.translations.deny},o,t,n):this.cmpCommunicationService.sendMessage(o)}saveAndExitAction(e,t,n,a,o){const f="saveAndExitButtonClick";e||o?this.showModal({dialogTitle:this.translationService.translations.exitButtonBoxTitle,dialogBody:this.translationService.translations.exitButtonBoxDescription,cancelButton:this.translationService.translations.cancel,okButton:this.translationService.translations.ok},f,n,a,t):this.cmpCommunicationService.sendMessage(f,t)}showModal(e,t,n,a,o){this.dialog.open(r.z,{width:"340px",panelClass:"fadeToBlackTheme"===a&&n?"fadeToBlack-notice-dialog-container":"custom-dialog-container",autoFocus:!1,data:e}).afterClosed().subscribe(T=>{!0===T&&this.cmpCommunicationService.sendMessage(t,o)})}checkActionButtonOverflow(){const e=document.getElementsByClassName("action-wrapper");let t=!1;this.isButtonTextOverflowing(e)&&(this.reduceButtonTextSize(e,13),t=!0),t||(this.resetActionButtonsSize(e),this.isButtonTextOverflowing(e)&&this.reduceButtonTextSize(e,13))}resetActionButtonsSize(e){for(let t=0;t<e.length;t++)e[t].style.fontSize="14px"}isButtonTextOverflowing(e){for(let t=0;t<e.length;t++){const n=e[t];if(n.offsetWidth<n.scrollWidth)return!0}return!1}getButtonType(e){return this.BUTTON_TYPES[e.style.type]}getContrast(e){const{r:t,g:n,b:a}=this.getRGBFromHex(e);return(299*t+587*n+114*a)/1e3>=128?"#4a4949":"white"}getSemiTransparentButtonColor(e){const t=this.getRGBFromHex(e);return{color:e,backgroundColor:`rgba(${t.r}, ${t.g}, ${t.b}, 0.1)`}}getRGBFromHex(e){return"#"===e.slice(0,1)&&(e=e.slice(1)),3===e.length&&(e=e.split("").map(o=>o+o).join("")),{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}}getMaterialButtonStyle(e){let t;const n=e.style.backgroundColor;switch(e.style.type){case"text":t={color:`${n}`};break;case"outlined":t={color:`${n}`,border:`1px solid ${n}`};break;case"raised":case"unelevated":t={color:`${this.getContrast(n)}`,backgroundColor:`${n}`};break;case"semiTransparent":{const o=this.getSemiTransparentButtonColor(n);t={color:o.color,backgroundColor:o.backgroundColor};break}default:console.log("Unsupported type")}return t}reduceButtonTextSize(e,t){if(8===t)return;let n=!1;for(let a=0;a<e.length;a++){const o=e[a];o.style.fontSize=`${t}px`,o.offsetWidth<o.scrollWidth&&(n=!0)}n&&this.reduceButtonTextSize(e,t-1)}}return c.\u0275fac=function(e){return new(e||c)(g.LFG(p.D),g.LFG(l.i),g.LFG(h.uw))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1482:(b,P,s)=>{s.d(P,{i:()=>m});var r=s(1135),i=s(6484),v=s(7030),g=s(7015),p=s(8788),l=s(5771),h=s(7834),u=s(4893),c=s(1218);let m=(()=>{class e{constructor(n,a){this.injector=n,this.navigationService=a,this.callId=0,this.configuration=new r.X(null),this.auditId=new r.X(null),this.screenSize=new r.X(null),this.receiveMessage=o=>{const f=o&&o.data&&o.data[`${this._cmpType}Return`]?o.data[`${this._cmpType}Return`].command:"";if("getNoticeConfig"===f||"getManagerConfig"===f||"changeLanguage"===f){const T=Object.assign(Object.assign({},this.configuration.value),o.data[`${this._cmpType}Return`].returnValue);this.configuration.next(T),document.documentElement.lang=T.activeLocale,this.auditId.next(T.auditId)}else"getAuditId"===f||"resetAuditId"===f?this.auditId.next(o.data[`${this._cmpType}Return`].returnValue):"screenSize"===f?this.screenSize.next(o.data[`${this._cmpType}Return`].returnValue):"openManager"===f&&this.navigationService.openManager(o.data[`${this._cmpType}Return`].returnValue?v.h.FULL_ROUTES.privacyInformation:v.h.FULL_ROUTES.manager)},this.updateWindowHeight=()=>{this.windowHeight=0;const o=this.configuration.getValue();!o||setTimeout(()=>{const f=window.document.getElementsByClassName("content")[0];if(f){const T=window.document.getElementsByClassName("header")[0],O=window.document.getElementsByClassName("footer")[0],_=window.document.getElementsByClassName("footer-divider")[0];let y=0;const S=o.isMobileDevice?o.mobileConfig:o.desktopConfig;if(T&&O&&_&&(y=_.clientHeight+O.clientHeight+T.clientHeight),!o.isNoticeConfig)return this.windowHeight=640,void this.sendMessage("updateConsentTool",{height:this.windowHeight+"px"});if("miniBar"===S.type)S.mobile?o.isTabletDevice?y=window.innerWidth>1200?72:95:window.innerWidth>450?y=105:(y=f.clientHeight+O.clientHeight,T&&(y+=T.clientHeight)):y=window.innerWidth<865?105:window.innerWidth<1200?95:72,this.windowHeight=y,this.sendMessage("updateConsentTool",{height:this.windowHeight+"px"});else if("bar"===S.type){if(y+=f.scrollHeight,this.windowHeight!==y&&y>0)return this.changeSize=!0,this.windowHeight=y,void this.sendMessage("updateConsentTool",{height:this.windowHeight+"px"});if(this.changeSize)return this.changeSize=!1,void this.sendMessage("updateConsentTool",{height:this.windowHeight+"px"})}}},100)},window.addEventListener("message",this.receiveMessage)}sendMessage(n,a,o,f){const T={[`${this._cmpType}Call`]:{callId:"iframe:"+ ++this.callId,command:n,parameter:a,version:o,callback:f}};window.parent.postMessage(T,"*")}setActiveCmpType(n){this._cmpType=n===i.D.TCF?"__tcfapi":"__lrcmp",this.cmpType=n}getActiveCmpType(){return this.cmpType}injectPrivacyManagerService(){return this.injector.get(this.cmpType===i.D.TCF?h.W:p.y)}injectDisclosureService(){return this.injector.get(this.cmpType===i.D.TCF?l.w:g.H)}}return e.\u0275fac=function(n){return new(n||e)(u.LFG(u.zs3),u.LFG(c.f))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})()},7015:(b,P,s)=>{s.d(P,{H:()=>i});var r=s(4893);let i=(()=>{class v{getStacksAndPurposes(p,l,h){let u=[],c=[];const m=p.purposes||[];return h&&(c=l.customStacks||[],c.forEach(e=>{e.id&&delete e.id,e.expanded=!1})),0===l.stacksAndPurposesOrder.length?(!l.hideCustomPurposes||!h&&l.hideCustomPurposes)&&(m.forEach(e=>{e.isPurpose=!0,u.push(e)}),u.push(...c)):u=this.orderedStacksAndPurposes(m,l,c,h),u}orderedStacksAndPurposes(p,l,h,u){const c=[];return l.stacksAndPurposesOrder.forEach(m=>{"purpose"===m.type?p.forEach((e,t)=>{t===m.id&&c.push(e)}):"customStack"===m.type&&h.find(e=>{(!e.id&&e.name===m.name||e.id===m.id)&&c.push(e)})}),!u&&l.hideCustomPurposes&&p.forEach(m=>{m.isCustom&&c.push(m)}),c}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=r.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},8788:(b,P,s)=>{s.d(P,{y:()=>u});var r=s(1135),i=s(7030),v=s(106),g=s(9789),p=s(4893),l=s(870),h=s(5366);let u=(()=>{class c extends g.m{constructor(e,t){super(e,t),this.publisherSelectionObs=new r.X(null)}init(e){e&&this.publisherSelectionObs.next(e)}getVendors(e){const t=[];return e.vendors.forEach(n=>{t.push(n)}),t}getVendor(e){return this.publisherSelectionObs.value.vendors.find(t=>t.id===e)}getPublisher(){return this.getVendor(0)}areAllThirdPartyVendorsSelected(){return this.publisherSelectionObs.value.vendors.every(e=>e.selected||e.isPublisher)}hasLegInt(){return this.publisherSelectionObs.value.vendors.some(e=>e.isLegInt)}isLegalBasisForVendorRequired(e,t){return e[t]&&e[t].some(n=>!(e.lockedPurposes&&e.lockedPurposes.includes(n)))}isPublisherEnabled(e){return e&&(e.purposes&&e.purposes.length>0||e.legIntPurposes&&e.legIntPurposes.length>0)}toggleAllVendors(e){this.publisherSelectionObs.value.vendors.forEach(n=>{n.isPublisher||this.toggleVendorState(n,!e)})}toggleVendorState(e,t){e.selected=t,e.selected&&e.purposes&&e.purposes.length>0&&e.purposes.forEach(n=>{const a=e.purposes.find(o=>o.id===n.id);a&&e.selected&&(a.selected=e.selected)})}allPurposesLockedForVendor(e){return!!(e.lockedPurposes&&e.purposes.length>0)&&e.purposes.every(t=>e.lockedPurposes.includes(t))}toggleVendor(e){const t=this.getVendor(e);this.toggleVendorState(t,!t.selected)}isVendorSelected(e){return this.getVendor(e).selected}listVendorPurposes(e){const t=[],n=this.publisherSelectionObs.value.purposes;return n.length>0&&n.forEach(a=>{e&&e.length>0&&e.forEach(o=>{a.id===o.id&&(o.isLegInt?a.iObject=o.iObject:a.selected=o.selected,t.push(a))})}),t}toggleLIVendor(e){e.iObject=!e.iObject}get displayAllVendorsToggle(){return this._displayAllVendorsToggle}set displayAllVendorsToggle(e){this._displayAllVendorsToggle=e}getPurposeById(e){return this.publisherSelectionObs.value.purposes.find(t=>t.id===e)}goToPurpose(e,t){t(i.h.ROUTES.purposeDetails,e.id)}togglePurposeLegalBasis(e,t,n,a){e[t]=n,this.publisherSelectionObs.value.vendors.forEach(f=>{const T=f[a].find(O=>O.id===e.id);T&&(T[t]=e[t])})}isPurposeLegalBasisEnabled(e,t,n,a){const o=[];e.vendors.forEach(O=>{const y=this.getVendor(O)[t].find(S=>S.id===e.id);y&&o.push(y)});const f=o.every(O=>O[n]===a),T=o.some(O=>O[n]===a);return f?v.$.Accepted:T?v.$.Partial:v.$.Rejected}getSelectedPurposeVendors(e,t,n){const o=t?"legIntPurposes":"purposes";return this.publisherSelectionObs.value.vendors.filter(f=>(n&&f.isPublisher||!n&&!f.isPublisher)&&f[o].length>0&&f[o].some(T=>T.id===e.id))}isLegalBasisForPurposeRequired(e,t){const n=this.publisherSelectionObs.value.vendors;return e.vendors.some(a=>{const o=n.find(f=>f.id===a);if(o[t].length>0)return o[t]&&o[t].some(f=>f.id===e.id)&&!(o.lockedPurposes&&o.lockedPurposes.includes(e.id))})}togglePurpose(e,t,n,a,o){this.getVendor(o)[a].find(O=>O.id===t)[n]=e}toggleLIPurpose(){throw new Error("Method not implemented.")}onItemToggle(){throw new Error("Method not implemented.")}isLegIntRequiredForVendor(){throw new Error("Method not implemented.")}isConsentRequiredForVendor(){throw new Error("Method not implemented.")}isPurposeSelected(){throw new Error("Method not implemented.")}toggleStackItems(){throw new Error("Method not implemented.")}getStackStatus(){throw new Error("Method not implemented.")}showVendorConsentToggle(){throw new Error("Method not implemented.")}listVendorFeatures(){throw new Error("Method not implemented.")}goToFeature(){throw new Error("Method not implemented.")}isFeatureSelected(){throw new Error("Method not implemented.")}getSpecialPurposeById(){throw new Error("Method not implemented.")}getFeatureById(){throw new Error("Method not implemented.")}getSpecialFeatureById(){throw new Error("Method not implemented.")}checkPurposeOneTreatment(){throw new Error("Method not implemented.")}get detachPurposesFromVendors(){throw new Error("Method not implemented.")}set detachPurposesFromVendors(e){throw new Error("Method not implemented.")}get purposeOneTreatment(){throw new Error("Method not implemented.")}set purposeOneTreatment(e){throw new Error("Method not implemented.")}}return c.\u0275fac=function(e){return new(e||c)(p.LFG(l.x0),p.LFG(h.F0))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1218:(b,P,s)=>{s.d(P,{f:()=>p});var r=s(5366),i=s(7030),v=s(4893),g=s(9808);let p=(()=>{class l{constructor(u,c){this.router=u,this.location=c,this.history=[],this.router.events.subscribe(m=>{m instanceof r.m2&&this.history.push(m.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl(i.h.FULL_ROUTES.purposes)}openManager(u){this.router.navigateByUrl(u,{state:{resizeManager:!0}})}openPage(u){this.router.navigateByUrl(u)}}return l.\u0275fac=function(u){return new(u||l)(v.LFG(r.F0),v.LFG(g.Ye))},l.\u0275prov=v.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},9789:(b,P,s)=>{s.d(P,{m:()=>h});var r=s(5366),i=s(1135),v=s(9300),g=s(106),p=s(4893),l=s(870);let h=(()=>{class u{constructor(m,e){this.deviceService=m,this.router=e,this.activeLocale=new i.X(null),e.events.pipe((0,v.h)(t=>t instanceof r.m2)).subscribe(()=>{this.scrollToTop()})}areElementsDisabled(){return!this.deviceService.isDesktop()}setActiveLocale(m){this.activeLocale.next(m)}getActiveLocale(){return this.activeLocale.asObservable()}scrollToTop(){const m=document.getElementById("content");m&&(m.scrollTop=0)}setToggleState(m){return m===g.$.Accepted||m!==g.$.Rejected&&null}}return u.\u0275fac=function(m){return new(m||u)(p.LFG(l.x0),p.LFG(r.F0))},u.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac}),u})()},9329:(b,P,s)=>{s.d(P,{z:()=>p});var r=s(1135),i=s(8306),v=s(8374),g=s(4893);let p=(()=>{class l{constructor(){this.resources=[],this.font=new r.X(null),this.theme=new r.X(null)}load(u,c){return new i.y(m=>{const e=this.resources.find(t=>t.name===u&&t.type===c);if(e)this.emitResourceChange(e),m.next(e),m.complete();else{const t={name:u,type:c};this.resources.push(t);const n=document.createElement("link");n.rel="stylesheet",n.href=`${u}.css`,n.onload=()=>{t.loaded=!0,this.emitResourceChange(t),m.next(t),m.complete()},n.onerror=a=>{console.error(`Couldn't load script ${u}: `,a),m.next(t),m.complete()},document.getElementsByTagName("head")[0].appendChild(n)}})}emitResourceChange(u){u.type===v._.FONT?this.font.next(u.name):u.type===v._.THEME&&this.theme.next(u.name)}getFont(){return this.font.asObservable()}getTheme(){return this.theme.asObservable()}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},6716:(b,P,s)=>{s.d(P,{w:()=>v,P:()=>g});var r=s(4893),i=s(1135);let v=(()=>{class p{constructor(){this.isLanguageSelectorDisplayed=!1,this.hasFirstFocusableElement=new i.X(!1),this.hasLastFocusableElement=new i.X(!1),this.firstFocusableElement=new i.X(null),this.lastFocusableElement=new i.X(null),this.onFirstFocusableChange=new r.vpe(!1)}setHasFirstFocusableElement(h){this.hasFirstFocusableElement.next(h)}setHasLastFocusableElement(h){this.hasLastFocusableElement.next(h)}getFirstFocusableElement(){return this.firstFocusableElement.asObservable()}setFirstFocusableElement(h){this.firstFocusableElement.next(h)}getLastFocusableElement(){return this.lastFocusableElement.asObservable()}setLastFocusableElement(h){this.lastFocusableElement.next(h)}updateFirstFocusableElement(h=g.PRIVACY_MANAGER){const u=this.firstFocusableElement.getValue(),c=[];switch(h){case g.PRIVACY_INFORMATION:document.querySelectorAll(".topic-arrow-down").forEach(t=>{c.push(t)});break;case g.PRIVACY_MANAGER:document.querySelectorAll(".mat-tab-label").forEach(t=>{c.push(t)});break;case g.PRIVACY_NOTICE:{let e=document.querySelectorAll(".disclosure-list-element");e[0]||(e=document.querySelectorAll(".footer-link")),c.push(e[0]);break}case g.ACTION_BUTTON:{const e=document.querySelectorAll(".action-button");c.push(e[0]);break}}if(!this.hasFirstFocusableElement.getValue()||-1===u.tabIndex){const e=c.findIndex(t=>t&&-1!==t.tabIndex);this.firstFocusableElement.next(c[e])}}updateLastFocusableElement(h){const u=this.lastFocusableElement.getValue(),c=[];switch(h){case g.PRIVACY_NOTICE:{const e=document.querySelectorAll(".footer-link");c.push(e[e.length-1]);break}case g.ACTION_BUTTON:{const e=document.querySelectorAll(".action-button");c.push(e[e.length-1]);break}case g.CLOSE_BUTTON:{const e=document.querySelectorAll(".close-holder");c.push(e[e.length-1]);break}}if(!this.hasLastFocusableElement.getValue()||-1===u.tabIndex){const e=c.findIndex(t=>t&&-1!==t.tabIndex);this.lastFocusableElement.next(c[e])}}setFocusByClass(h){document.querySelector(h).focus()}}return p.\u0275fac=function(h){return new(h||p)},p.\u0275prov=r.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var g=(()=>{return(p=g||(g={}))[p.PRIVACY_MANAGER=0]="PRIVACY_MANAGER",p[p.PRIVACY_INFORMATION=1]="PRIVACY_INFORMATION",p[p.PRIVACY_NOTICE=2]="PRIVACY_NOTICE",p[p.ACTION_BUTTON=3]="ACTION_BUTTON",p[p.CLOSE_BUTTON=4]="CLOSE_BUTTON",g;var p})()},5771:(b,P,s)=>{s.d(P,{w:()=>v});var r=s(4893),i=s(520);let v=(()=>{class g{constructor(l){this.http=l}getStacksAndPurposes(l,h,u,c){let m=[],e=[],t=l.purposes||[];t=t.filter(o=>1!==o.id);let n=l.specialFeatures||[];this.setFeatureAndPurposeType(t,n);const a=[];return c&&h.stacks&&h.stacks.length&&h.stacks.forEach(o=>{const f=c[o];if(f){const T=[];(t.find(O=>f.purposes.includes(O.id))||n.find(O=>f.specialFeatures.includes(O.id)))&&(f.expanded=!1,a.push(f),t=t.filter(O=>{if(!f.purposes.includes(O.id))return O;T.push(O)}),n=n.filter(O=>{if(!f.specialFeatures.includes(O.id))return O;T.push(O)})),f.coveredPurposesAndFeatures=T}}),h.hideCustomPurposes&&u&&(t=t.filter(o=>!o.isCustom),n=n.filter(o=>!o.isCustom)),h.customStacks&&(e=h.customStacks,e.forEach(o=>{o.id&&delete o.id,o.expanded=!1})),m=h.stacksAndPurposesOrder&&0!==h.stacksAndPurposesOrder.length?this.orderedStacksAndPurposes(a,t,n,h,c,e,u):[...a,...t,...n,...e],m}setFeatureAndPurposeType(l,h){l.forEach(u=>{u.isPurpose=!0}),h.forEach(u=>{u.isFeature=!0})}orderedStacksAndPurposes(l,h,u,c,m,e,t){const n=[];return c.stacksAndPurposesOrder.forEach(a=>{"stack"===a.type?l.find(o=>{a.id===o.id&&n.push(m[o.id])}):"purpose"===a.type?h.find(o=>{o.id===a.id&&n.push(o)}):"specialFeature"===a.type?u.find(o=>{o.id===a.id&&n.push(o)}):"customStack"===a.type&&e.forEach(o=>{(!o.id&&o.name===a.name||o.id===a.id)&&n.push(o)})}),!t&&c.hideCustomPurposes&&h.forEach(a=>{a.isCustom&&n.push(a)}),n}getDisclosureList(l){return this.http.get(l)}}return g.\u0275fac=function(l){return new(l||g)(r.LFG(i.eN))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},7834:(b,P,s)=>{s.d(P,{W:()=>u});var r=s(1135),i=s(7030),v=s(106),g=s(9789),p=s(4893),l=s(870),h=s(5366);let u=(()=>{class c extends g.m{constructor(e,t){super(e,t),this.publisherSelectionObs=new r.X(null)}init(e){e&&this.publisherSelectionObs.next(e)}getVendors(e){const t=[];return e.vendors.forEach(n=>{n.isPublisher||t.push(n)}),t}getVendor(e){return this.publisherSelectionObs.value.vendors.find(t=>t.id===e)}getPublisher(){return this.publisherSelectionObs.value.vendors.find(e=>e.isPublisher)}areAllThirdPartyVendorsSelected(){return this.publisherSelectionObs.value.vendors.every(e=>e.selected||e.isPublisher)}hasLegInt(){return this.publisherSelectionObs.value.vendors.some(e=>e.isLegInt)}isLegIntRequiredForVendor(e){return e.specialPurposes&&e.specialPurposes.length>0||e.legIntPurposes&&e.legIntPurposes.some(t=>!(e.lockedPurposes&&e.lockedPurposes.includes(t)))}isPublisherEnabled(e){return e&&(e.purposes&&e.purposes.length>0||e.legIntPurposes&&e.legIntPurposes.length>0||e.specialPurposes&&e.specialPurposes.length>0||e.features&&e.features.length>0)}toggleItem(e,t){t.selected=e,e&&!this.detachPurposesFromVendors&&t.vendors.forEach(n=>{n.legIntPurposes.find(o=>o===t.id)||(n.selected=e)})}showVendorConsentToggle(e){return!(e.isPublisher&&this.detachPurposesFromVendors||!(e.purposes&&0!==e.purposes.length||!e.isPublisher&&0!==e.specialFeatures.length)||e.purposes.every(t=>1===t)&&this.purposeOneTreatment&&(!e.specialFeatures||0===e.specialFeatures.length))}allPurposesLockedForVendor(e){return!!(e.lockedPurposes&&e.purposes.length>0)&&e.purposes.every(t=>e.lockedPurposes.includes(t))}isConsentRequiredForVendor(e){return e.purposes&&e.purposes.some(t=>!(e.lockedPurposes&&e.lockedPurposes.includes(t)))}toggleVendorState(e,t){const n=this.publisherSelectionObs.value.purposes,a=this.publisherSelectionObs.value.specialFeatures;e.selected=t,this.detachPurposesFromVendors||(e.selected||e.isPublisher)&&(e.purposes&&e.purposes.length>0&&e.purposes.forEach(o=>{const f=n.find(T=>T.id===o);f&&(e.selected||1===f.vendors.length)&&(f.selected=e.selected)}),e.specialFeatures&&e.specialFeatures.length>0&&e.specialFeatures.forEach(o=>{const f=a.find(T=>T.id===o);f&&(e.selected||1===f.vendors.length)&&(f.selected=e.selected)}))}toggleVendor(e){const t=this.getVendor(e);this.toggleVendorState(t,!t.selected)}toggleAllVendors(e){this.publisherSelectionObs.value.vendors.forEach(n=>{n.isPublisher||this.toggleVendorState(n,!e)})}isVendorSelected(e){return this.getVendor(e).selected}listVendorPurposes(e,t){let n;const a=[];return n="purposes"===t?this.checkPurposeOneTreatment(this.publisherSelectionObs.value.purposes):this.publisherSelectionObs.value.specialPurposes,n&&n.forEach(o=>{e&&e.forEach(f=>{o.id===f&&a.push(o)})}),a}listVendorFeatures(e,t){let n;const a=[];return n="features"===e?this.publisherSelectionObs.value.features:this.publisherSelectionObs.value.specialFeatures,n&&n.forEach(o=>{t&&t.forEach(f=>{o.id===f&&a.push(o)})}),a}toggleLIVendor(e,t){this.toggleLegInt(e),(!e.iObject||e.isPublisher)&&t.forEach(n=>{e.isPublisher?1===n.vendors.filter(a=>a.isLegInt).length&&(n.iObject=e.iObject):n.iObject=!1})}get detachPurposesFromVendors(){return this._detachPurposesFromVendors}set detachPurposesFromVendors(e){this._detachPurposesFromVendors=e}get displayAllVendorsToggle(){return this._displayAllVendorsToggle}set displayAllVendorsToggle(e){this._displayAllVendorsToggle=e}getPurposeById(e){return this.publisherSelectionObs.value.purposes.find(t=>t.id===e)}isPurposeSelected(e){const t=this.publisherSelectionObs.value.purposes.find(n=>n.id===e.id).selected;return!e.rightToObject||t}getStackStatus(e){const t=e.some(a=>!0===a.selected);return e.every(a=>!0===a.selected)?v.$.Accepted:t?v.$.Partial:v.$.Rejected}goToPurpose(e,t){let n=i.h.ROUTES.purposeDetails;e.rightToObject||(n=i.h.ROUTES.specialPurposeDetails),t(n,e.id)}checkPurposeOneTreatment(e){return this.purposeOneTreatment?e.filter(t=>1!==t.id):e}getSpecialPurposeById(e){return this.publisherSelectionObs.value.specialPurposes.find(t=>t.id===e)}getSelectedPurposeVendors(e,t,n){if(!e.rightToObject&&t)return[];const a=t?"legIntPurposes":e.rightToObject?"purposes":"specialPurposes";return e.vendors.filter(o=>(n&&o.isPublisher||!n&&!o.isPublisher)&&o[a]&&o[a].includes(e.id))}isLegalBasisForPurposeRequired(e,t){return e.vendors.some(n=>n[t]&&n[t].includes(e.id)&&!(n.lockedPurposes&&n.lockedPurposes.includes(e.id)))}toggleLIPurpose(e){e.vendors.forEach(t=>{e.iObject&&t.isLegInt&&(t.iObject=!1)}),this.toggleLegInt(e),this.setPublisherLIState()}get purposeOneTreatment(){return this._purposeOneTreatment}set purposeOneTreatment(e){this._purposeOneTreatment=e}goToFeature(e,t){let n=i.h.ROUTES.specialFeatureDetails;e.rightToObject||(n=i.h.ROUTES.featureDetails),t(n,e.id)}isFeatureSelected(e){return!e.rightToObject||this.publisherSelectionObs.value.specialFeatures.find(n=>n.id===e.id).selected}getFeatureById(e){return this.publisherSelectionObs.value.features.find(t=>t.id===e)}getSpecialFeatureById(e){return this.publisherSelectionObs.value.specialFeatures.find(t=>t.id===e)}toggleStackItems(e,t){e.forEach(n=>{this.toggleItem(t,n)})}onItemToggle(e,t){this.toggleItem(e,t),this.setPublisherState()}setPublisherState(){const e=this.getVendor();if(e&&e.isPublisher&&e.purposes&&e.purposes.length>0){let t=!1;const n=this.publisherSelectionObs.value.purposes;for(const a of e.purposes){const o=n.find(f=>f.id===a);if(o&&o.selected){t=!0;break}}e.selected=t}}toggleLegInt(e){e.iObject=!e.iObject}setPublisherLIState(){const e=this.getVendor();if(e&&e.isPublisher&&e.legIntPurposes&&e.legIntPurposes.length>0){let t=!0;const n=this.publisherSelectionObs.value.purposes;for(const a of e.legIntPurposes){const o=n.find(f=>f.id===a);if(o&&o.isLegInt&&!o.iObject){t=!1;break}}e.iObject=t}}isLegalBasisForVendorRequired(){throw new Error("Method not implemented.")}isPurposeLegalBasisEnabled(){throw new Error("Method not implemented.")}togglePurposeLegalBasis(){throw new Error("Method not implemented.")}togglePurpose(){throw new Error("Method not implemented.")}}return c.\u0275fac=function(e){return new(e||c)(p.LFG(l.x0),p.LFG(h.F0))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1712:(b,P,s)=>{s.d(P,{D:()=>i});var r=s(4893);let i=(()=>{class v{constructor(){this.translations={}}init(p){this.translations=p}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=r.Yz7({token:v,factory:v.\u0275fac}),v})()},7379:(b,P,s)=>{s.d(P,{f:()=>i});var r=s(4893);let i=(()=>{class v{constructor(){this.vendorList={}}init(p){this.vendorList=p}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=r.Yz7({token:v,factory:v.\u0275fac}),v})()},2647:(b,P,s)=>{s.d(P,{m:()=>O});var r=s(9808),i=s(2382),v=s(8029),g=s(4893);let p=(()=>{class _{}return _.\u0275fac=function(S){return new(S||_)},_.\u0275mod=g.oAB({type:_}),_.\u0275inj=g.cJS({imports:[[r.ez,i.u5,v.KP]]}),_})();var l=s(7423),h=s(508),u=s(8966),c=s(7322),m=s(7531),e=s(3652),t=s(4107),n=s(2368),a=s(3251),o=s(9772);const f=[l.ot,u.Is,c.lN,h.si,t.LD,n.rP,a.Nh,o.AV,m.c,e.ie];let T=(()=>{class _{}return _.\u0275fac=function(S){return new(S||_)},_.\u0275mod=g.oAB({type:_}),_.\u0275inj=g.cJS({imports:[[...f],l.ot,u.Is,c.lN,h.si,t.LD,n.rP,a.Nh,o.AV,m.c,e.ie]}),_})(),O=(()=>{class _{}return _.\u0275fac=function(S){return new(S||_)},_.\u0275mod=g.oAB({type:_}),_.\u0275inj=g.cJS({imports:[[r.ez,T,p],r.ez,T,p]}),_})()},1818:(b,P,s)=>{var r=s(2313),i=s(4893),v=s(520),g=s(7790),p=s(6360),l=s(5366),h=s(9808),u=(()=>{return(M=u||(u={})).Theme="theme",M.SystemFonts="useSystemFonts",M.CmpType="cmpType",u;var M})(),c=s(8374),m=s(6716),e=s(9329),t=s(1482),n=s(5240);function a(M,L){1&M&&(i.TgZ(0,"app-theme"),i.TgZ(1,"div",1),i._UZ(2,"router-outlet"),i.qZA(),i.qZA())}let o=(()=>{class M{constructor(d,E,A,C,x,V){this.document=d,this.renderer=E,this.tabbableService=A,this.resourceService=C,this.route=x,this.cmpCommunicationService=V,this.timer=null,this.initResources(),this.handleTabBound=this.handleTab.bind(this),this.handleMouseDownBound=this.handleMouseDown.bind(this),this.handleArrowsBound=this.handleArrows.bind(this),window.addEventListener("keydown",this.handleTabBound,!1),window.addEventListener("mousedown",this.handleMouseDownBound,!1),window.addEventListener("keydown",this.handleArrowsBound,!1),this.renderer.addClass(this.document.body,"hide-scrollbar")}ngOnInit(){this.tabbableService.getFirstFocusableElement().subscribe(d=>{d&&(this.firstFocusableElement=d)}),this.tabbableService.getLastFocusableElement().subscribe(d=>{d&&(this.lastFocusableElement=d)})}initResources(){this.route.queryParams.subscribe(d=>{const E=d[u.Theme],A=d[u.SystemFonts],C=d[u.CmpType];E&&(E!==this.theme?this.loadTheme(E):this.themeLoaded=!0),A&&"true"!==A&&this.loadFonts(),C&&this.cmpCommunicationService.setActiveCmpType(C)})}loadTheme(d){this.resourceService.load(d,c._.THEME).subscribe(E=>{E.loaded&&E.name===d&&(this.theme=d,this.themeLoaded=!0)})}loadFonts(){this.resourceService.load("openSans",c._.FONT).subscribe(d=>{d.loaded||console.error(`Failed to load resource with name ${d.name} and of type ${d.type}`)})}handleTab(d){9===d.keyCode&&("tab"!==this.lastEventType&&document.body.classList.remove("no-focus-outline"),this.lastEventType="tab",document.activeElement===document.querySelector(".language-holder")&&(document.querySelector(".language-select").tabIndex=-1),document.activeElement===document.querySelector(".back-holder")&&(document.querySelector(".back-holder").tabIndex=-1),d.shiftKey&&document.activeElement===this.firstFocusableElement?(d.preventDefault(),this.lastFocusableElement.focus()):!d.shiftKey&&document.activeElement===this.lastFocusableElement&&(d.preventDefault(),this.firstFocusableElement.focus()))}handleMouseDown(){document.body.classList.add("no-focus-outline"),this.lastEventType="click"}handleArrows(d){const E=document.querySelectorAll("[tabindex]");switch(d.keyCode){case 38:"keydown"!==this.lastEventType&&document.body.classList.remove("no-focus-outline"),this.lastEventType="keydown",this.handleUpArrowNavigation(E),d.preventDefault();break;case 40:"keydown"!==this.lastEventType&&document.body.classList.remove("no-focus-outline"),this.lastEventType="keydown",this.handleDownArrowNavigation(E),d.preventDefault()}}handleDownArrowNavigation(d){for(let E=0;E<d.length;E++){if(document.activeElement===this.lastFocusableElement||!Array.from(d).includes(document.activeElement)){this.firstFocusableElement.focus();break}if(document.activeElement===d[E]&&document.activeElement!==this.lastFocusableElement){document.activeElement.classList.contains("mat-tab-label")&&-1===document.activeElement.tabIndex&&"mat-tab-label-0-0"===d[E].id?d[E+2].focus():document.activeElement.classList.contains("mat-tab-label")&&-1===document.activeElement.tabIndex&&"mat-tab-label-0-1"===d[E].id?d[E+1].focus():"mat-slider"===d[E+1].id||"mat-select"===d[E+1].id?d[E+2].classList.contains("mat-tab-label")&&-1===d[E+2].tabIndex?d[E+3].focus():d[E+2].focus():-1===d[E+1].tabIndex?d[E+2].focus():d[E+1].focus();break}}}handleUpArrowNavigation(d){for(let E=d.length-1;E>=0;E--){if(!Array.from(d).includes(document.activeElement)){this.firstFocusableElement.focus();break}if(document.activeElement===this.firstFocusableElement){this.lastFocusableElement.focus();break}if(document.activeElement===d[E]&&document.activeElement!==this.firstFocusableElement){d[E-1].classList.contains("mat-tab-label")&&-1===d[E-1].tabIndex?d[E-2].focus():d[E].classList.contains("mat-tab-label")&&-1===d[E].tabIndex?d[E-2].classList.contains("mat-select")?d[E-3].focus():d[E-2].focus():"mat-slider"===d[E-1].id||"mat-select"===d[E-1].id||-1===d[E-1].tabIndex?d[E-2].focus():d[E-1].focus();break}}}handleTouch(){null!==this.timer&&clearTimeout(this.timer);let d=this.document.body;this.tabbableService.isLanguageSelectorDisplayed&&(d=this.document.getElementById("language-options")),this.renderer.removeClass(d,"hide-scrollbar"),this.timer=setTimeout(()=>{this.renderer.addClass(d,"hide-scrollbar")},500)}onTouchStart(){this.handleTouch()}onTouchMove(){this.handleTouch()}onWheel(){this.handleTouch()}}return M.\u0275fac=function(d){return new(d||M)(i.Y36(h.K0),i.Y36(i.Qsj),i.Y36(m.w),i.Y36(e.z),i.Y36(l.gz),i.Y36(t.i))},M.\u0275cmp=i.Xpm({type:M,selectors:[["app-root"]],hostBindings:function(d,E){1&d&&i.NdJ("touchstart",function(C){return E.onTouchStart(C)},!1,i.Jf7)("touchmove",function(C){return E.onTouchMove(C)},!1,i.Jf7)("wheel",function(C){return E.onWheel(C)},!1,i.Jf7)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"app"]],template:function(d,E){1&d&&i.YNc(0,a,3,0,"app-theme",0),2&d&&i.Q6J("ngIf",E.themeLoaded)},directives:[h.O5,n.M,l.lC],styles:[".app[_ngcontent-%COMP%]{width:100%;height:100%}"]}),M})();var f=s(7030);const T=[{path:f.h.ROUTES.notice,loadChildren:()=>Promise.all([s.e(847),s.e(650)]).then(s.bind(s,9650)).then(M=>M.NoticeModule)},{path:f.h.ROUTES.manager,loadChildren:()=>Promise.all([s.e(847),s.e(605)]).then(s.bind(s,605)).then(M=>M.ManagerModule)}];var O=s(5395),_=s(6856),y=s(7015),S=s(8788),F=s(5771),I=s(7834),D=s(1712),B=s(7379),R=s(2647);let w=(()=>{class M{}return M.\u0275fac=function(d){return new(d||M)},M.\u0275mod=i.oAB({type:M,bootstrap:[o]}),M.\u0275inj=i.cJS({providers:[t.i,D.D,_.q,S.y,I.W,y.H,F.w,B.f,O.U],imports:[[r.b2,p.PW,g.o9,R.m,l.Bz.forRoot(T,{useHash:!0,preloadingStrategy:l.wm}),v.JF]]}),M})();(0,i.G48)(),r.q6().bootstrapModule(w).catch(M=>console.log(M))}},b=>{b.O(0,[736],()=>b(b.s=1818)),b.O()}]);